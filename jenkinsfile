node ('GOLBUILD'){
	stage ('GOL REPO'){
	
	git credentialsId: 'b1f5f594-0e99-4c89-b613-08b7e58e2923', url: 'https://github.com/Challanges/game-of-life.git'
	
	}

	stage ('GOLPKG-BILD'){

	sh label: '', script: 'mvn clean  test package'	
	
	stage ('List Artifacts'){

	archiveArtifacts 'gameoflife-web/target/*.jar,gameoflife-web/target/*.war'

        ##### sh label: '', script: '''scp  /workspace//gameoflife-web/target/*.war  testuser@172.31.10.16:/home/testuser/'''
	}

	
}



------------------------------------------------
node ('GOLBUILD'){
	stage ('GOL BUILD'){
		git credentialsId: 'maven', url: 'https://github.com/Challanges/game-of-life.git'
		sh label: '', script: '''ssh testuser@172.31.10.16 "mkdir -p/home/testuser/artifacts"
			                 scp  gameoflife-web/target/*.jar testuser@172.31.10.16:/home/testuser/artifacts'''
		
		archiveArtifacts 'gameoflife-web/target/*.jar,gameoflife-web/target/*.war'
          	junit 'gameoflife-web/target/surefire-reports/*.xml'
	}
}
node ('GOLDEV'){
stage ('GOL DEV'){
	echo " need to be copy all files *.jar and mvn clean install" 

	}
}
node ('GOLINFRA'){
stage ('GOL INFRA'){
	}
}

node ('UBANTU') {
        stage ('scm-git repo') 
        {
        git branch: 'gameoflife-release-1.0.37', credentialsId: '4b575546-6b9a-4c7e-8643-401ace9f2588', url: 'https://github.com/bpankaj03/game-of-life.git'
        
        }
        stage ('build-pro') 
        {
          sh label: '', script: 'mvn clean test package'
        
        }
        stage ('after-build') 
        {
          
          archiveArtifacts 'gameoflife-web/target/*.jar,gameoflife-web/target/*.war'
          junit 'gameoflife-web/target/surefire-reports/*.xml'
          
        }
        stage ('Final Check') 
        {
          echo "this project for mavan clean and test package"
        
        }    
  
}

node ('GOLBUILD'){
	stage ('GOL BUILD'){
		git credentialsId: 'maven', url: 'https://github.com/Challanges/game-of-life.git'
		sh label: '', script: '''ssh testuser@172.31.10.16 "mkdir -p/home/testsuer/artifacts"
scp  					gameoflife-web/target/*.jar testuser@172.31.10.16:/home/testsuer/artifacts'''
		
		archiveArtifacts 'gameoflife-web/target/*.jar,gameoflife-web/target/*.war'
          	junit 'gameoflife-web/target/surefire-reports/*.xml'
	}
}
node ('GOLDEV'){
stage ('GOL DEV'){
	echo " need to be copy all files *.jar and mvn clean install" 

	}
}
node ('GOLINFRA'){
stage ('GOL INFRA'){
	}
}
